(()=>{"use strict";let e=document.createElement("html");function o(e,l){for(const d of e)d.hasChildNodes()&&3!=d.nodeType?(l.appendChild(d.cloneNode()),null!=l.lastChild&&o(d.childNodes,l.lastChild)):l.appendChild(d.cloneNode())}chrome.runtime.onMessage.addListener((function(l){if(console.log("Message received: "+l),"websiteDownloadButton"==l){console.log("a;ldskfja;lsdkjf;alksdj");let l=document.documentElement;console.log("Entire DOM",l),console.log(l.childNodes),console.log(l.childNodes[0]);let d=l.childNodes[0];console.log(d),console.log(l.childNodes[1]),console.log(l.childNodes[2]),console.log(l.childNodes[2].nodeValue),console.log(l.childNodes[2].cloneNode()),console.log(l.childNodes[2].baseURI),console.log(l.firstChild),console.log(l.firstElementChild),console.log("END OF TESTING"),o(document.documentElement.childNodes,e),console.log("Final HTML: ",e);let n=new File(["<!DOCTYPE html>",e.outerHTML],"msg.html",{type:"text/html"}),c=document.createElement("a"),s=window.URL.createObjectURL(n);c.href=s,c.download="msg.html",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(s)}}))})();